<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <meta content="https://icyflame.github.io/dp.jpg" property="og:image">

  <meta content="Siddharth Kannan's Blog" property="og:site_name">

  
  <meta content="Ship it!" property="og:title">
  

  
  <meta content="article" property="og:type">
  

  
  <meta content="857 words about rails" property="og:description">
  

  
  <meta content="https://blog.siddharthkannan.in/web-development/rails/2014/09/30/deployment/" property="og:url">
  

  
  <meta content="2014-09-30T00:00:00+00:00" property="article:published_time">
  <meta content="https://blog.siddharthkannan.in/about/" property="article:author">
  

  
  
  <meta content="web-development" property="article:section">
  
  

  
  
  

  <title>
    
    Ship it! &middot; Siddharth Kannan's Blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/poole.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/syntax.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/hyde.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.siddharthkannan.in/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://blog.siddharthkannan.in/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Google Adsense -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
	(adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-1148465602033451",
		enable_page_level_ads: true
	});
  </script>
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h2>
        <a href="https://blog.siddharthkannan.in/">
          Siddharth Kannan's Blog
        </a>
      </h2>
      <p class="lead">Programmer | Pianist <br/><a href="http://icyflame.github.io">@icyflame</a></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/">Home</a>

      

      
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/about/">About</a>
            <!-- about/ -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/list/">List of Posts</a>
            <!-- list/ -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/tag/">List of Posts by Tag</a>
            <!-- tag/ -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/series">List of Series</a>
            <!-- series -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/rss/">RSS</a>
            <!-- rss/ -->
          
        
      

      <span class="sidebar-nav-item">Powered by <a href="https://jekyllrb.com">Jekyll</a>
			  and <a href="https://github.com/poole/hyde">Hyde</a></span>
      <span class="sidebar-nav-item">Hosted on <a href="https://github.com">Github</a></span>
    </nav>

    <p>&copy; 2024. All rights reserved.</p>
  </div>
</div>


    <div class="content container-fluid">
      <div class="post">
  <h1 class="post-title">Ship it!</h1>
  <span class="post-date">30 Sep 2014</span>

  
  <span class="post-date">
  

  
  <a href="https://blog.siddharthkannan.in/tag/#rails">
    rails
  </a>
  
    &middot;
  
  
  <a href="https://blog.siddharthkannan.in/tag/#web-development">
    web-development
  </a>
  
  
</span>


  
  <p>So, after the previous post, which actually caught the attention of the people at Travis CI, I am
back with the next part of the application lifecycle.</p>

<p><a href="https://twitter.com/_icyflame/status/5162296267884544000"><img src="/public/img/2014-09-29-travis-ci-conversation-screenshot.png" alt="twitter-screenshot" /></a></p>

<p><strong>Shipping!</strong> Although, the word is simple, and the process is pretty easy to understand, it was something that I obviously, had never done before, and didn’t have any idea what it meant either. Because, till now, I have worked with PHP and deploying PHP is simply copying the files onto a server that supports PHP hosting (whatever that means!). Rails, though, was a different game, altogether!</p>

<p><a href="https://www.heroku.com/">Heroku</a>, seemed to be the platform of choice, on the internet. So, I went through the Heroku Getting started for deploying rails guide. This guide itself was very informative, and surprisingly, easy to follow. There were some issues that I did face in the process, I will be detailing some of them below!</p>

<p><strong>SSH</strong> Back on campus, since we were behind Proxy servers, which listen on port 8080, Heroku is not easy to setup from the terminal. I have not yet found out how to do it, but I believe that it can be done, and I will be asking some of the people I know for some ways to work around the proxies and get stuff done! But, here, at home, I am connected to the internet. And Proxy servers DO NOT exist! So, SSH is possible. And some time before, when I tried to follow this same guide from campus, I found that you could push to heroku only using SSH. I had given up on campus, but out here, it’s a new day and I could try again</p>

<p>SSH was easy to setup, <code class="language-plaintext highlighter-rouge">ssh-keygen -t rsa</code> created the public key and <code class="language-plaintext highlighter-rouge">heroku keys:clear</code> followed by <code class="language-plaintext highlighter-rouge">heroku keys:add</code> completed the process. Running <code class="language-plaintext highlighter-rouge">heroku create</code> configred the rails app, and then came the moment of truth, <code class="language-plaintext highlighter-rouge">git push heroku master</code>. And bam! I ran into <code class="language-plaintext highlighter-rouge">Permission denied (publickey)</code>. It was a two line error message, and told me exactly nothing about the problem that the application was facing, so I delved into the internet and <a href="http://stackoverflow.com">Stack Overflow</a> (duh!) came to my rescue. <a href="http://stackoverflow.com/questions/4269922/permission-denied-publickey-when-deploying-heroku-code-fatal-the-remote-end">This</a> question told me what needed to be done. So, I did what the accepted answer told me to do, but it didn’t work for a couple of times. After some time of tinkering around with the <code class="language-plaintext highlighter-rouge">keys:clear</code> and the <code class="language-plaintext highlighter-rouge">keys:add</code> commands, it worked for the first time.</p>

<p>Bam! Second checkpost! <code class="language-plaintext highlighter-rouge">sqlite is not supported on heroku</code>. This was an error that went on to give me quite some pain! Sqlite is the database of choice in development environments, especially in Rails and Django, all the setup is done when the application is created. But at the production level, obviously, I couldn’t expect Heroku to deploy my database on sqlite. But I naively believed that either Heroku or Rails, would automagically handle it, Alas, it didn’t.</p>

<p>Enter <a href="http://devcenter.heroku.com/">Heroku Dev Center</a>. And stack overflow, of course! I got the solution after some amount of digging around. <a href="https://devcenter.heroku.com/articles/sqlite3">This</a> post on the Heroku Dev Center dedicated to sqlite, and <a href="http://stackoverflow.com/questions/21297160/detected-sqlite3-gem-which-is-not-supported-on-heroku">this</a> question on stack overflow, showed me the way. I learned about grouping gems in the Gemfile. And after doing what the DevCenter guide told me to do, I made it work. And whoa! It worked. The application was deployed at <a href="http://calm-headland-9735.herokuapp.com/">http://calm-headland-9735.herokuapp.com</a> (where it is still deployed!). But there was one thing to be fixed as of now. The bootstrap elements were not rendering properly. It was like bootstrap was not loaded at all.</p>

<p>This seemed to be easy to fix, and it was easy! <a href="http://stackoverflow.com/questions/16271696/cant-get-css-working-on-heroku-using-rails-4-with-bootstrap-saas-gem">This</a> question immediately showed me what to do! Just the addition of the four lines at the beginning of this answer to the <code class="language-plaintext highlighter-rouge">production.rb</code> environment file, fixed the problem. And the second push worked.</p>

<p>In the mean time, I learned that you push from the local branch <code class="language-plaintext highlighter-rouge">deploy</code> to the remote branch <code class="language-plaintext highlighter-rouge">master</code> by using <code class="language-plaintext highlighter-rouge">git push heroku deploy:master</code>, so that at the other end, the local deploy branch is merged with remote:master on arrival. This seemed to be cool. But I am still not clear whether the conflict management at Heroku’s end is similar to how git does it, because if it is, then I would have expected some notification from Heroku, asking to me to fix all the conflicts, or push something that didn’t conflict with their copy of the repository. I am trying to find more stuff about this!</p>

<p>Also, all through this process, Travis CI was continously building. And that was awesome. Also, Travis also built new branches pushed to the repository, so the deploy branch was being built continously whenever I pushed to it on Github. I also created a tag somewhere during this process, and even this tag was built by Travis!</p>

<p><strong>Note</strong> I intend this post to be a collection of all the stuff that I needed to make Rails applications work on Heroku!</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/internet/networking/linux/2024/08/31/wireguard-and-mtu-adventure/">
          Adventures with Wireguard and MTU
          <small>31 Aug 2024</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/apple/linux/2024/08/29/using-iphone-without-windows-or-apple/">
          Using an iPhone Without Windows or Apple Computers
          <small>29 Aug 2024</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/book-review/capitalism/humor/2024/06/12/book-review-delillo-white-noise/">
          Notes and Review - White Noise (DeLillo)
          <small>12 Jun 2024</small>
        </a>
      </h3>
    </li>
    
  </ul>
</div>

<!-- Disqus Thread -->

<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'siddharthkannanblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <!-- <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> -->

    </div>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YE2VZMP9F1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YE2VZMP9F1');
</script>


  </body>
</html>
