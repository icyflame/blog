<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <meta content="https://icyflame.github.io/dp.jpg" property="og:image">

  <meta content="Siddharth Kannan's Blog" property="og:site_name">

  
  <meta content="Day 43 - MISSED; Clock issues on Windows-Ubuntu Dual Boot" property="og:title">
  

  
  <meta content="article" property="og:type">
  

  
  <meta content="552 words about 100daysofwriting" property="og:description">
  

  
  <meta content="https://blog.siddharthkannan.in/2017/04/01/day-43" property="og:url">
  

  
  <meta content="2017-04-01T00:00:00+00:00" property="article:published_time">
  <meta content="https://blog.siddharthkannan.in/about/" property="article:author">
  

  
  
  <meta content="100daysofwriting" property="article:section">
  
  

  
  
  

  <title>
    
    Day 43 - MISSED; Clock issues on Windows-Ubuntu Dual Boot &middot; Siddharth Kannan's Blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/poole.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/syntax.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/hyde.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.siddharthkannan.in/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://blog.siddharthkannan.in/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Google Adsense -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
	(adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-1148465602033451",
		enable_page_level_ads: true
	});
  </script>
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h2>
        <a href="https://blog.siddharthkannan.in/">
          Siddharth Kannan's Blog
        </a>
      </h2>
      <p class="lead">Programmer | Pianist <br/><a href="http://icyflame.github.io">@icyflame</a></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/">Home</a>

      

      
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/about">About</a>
            <!-- about -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/list">List of Posts</a>
            <!-- list -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/tag/">List of Posts by Tag</a>
            <!-- tag/ -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/series">List of Series</a>
            <!-- series -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/rss">RSS</a>
            <!-- rss -->
          
        
      

      <span class="sidebar-nav-item">Powered by <a href="https://jekyllrb.com">Jekyll</a>
			  and <a href="https://github.com/poole/hyde">Hyde</a></span>
      <span class="sidebar-nav-item">Hosted on <a href="https://github.com">Github</a></span>
    </nav>

    <p>&copy; 2024. All rights reserved.</p>
  </div>
</div>


    <div class="content container-fluid">
      <div class="post">
  <h1 class="post-title">Day 43 - MISSED; Clock issues on Windows-Ubuntu Dual Boot</h1>
  <span class="post-date">01 Apr 2017</span>

  
  <span class="post-date">
  

  
  <a href="https://blog.siddharthkannan.in/tag/#100daysofwriting">
    100daysofwriting
  </a>
  
  
</span>


  
  <p>Ah, this is going to be my sixth MISSED post. The irony of it all is that
yesterday, I really had a topic to write about. A topic that a friend asked me
about earlier in the day and one that I have faced many times myself. Uh, irony.</p>

<p><strong>Managing your Clock on Windows-Ubuntu Dual Boot</strong></p>

<p>Switching over to Windows and seeing the wrong time or switching to Ubuntu and
seeing the wrong time, it’s all pretty irritating. It keeps happening, there’s
no easy way to fix that, this is my recipe. It’s pretty easy, I think.</p>

<ol>
  <li>Turn off the <em>Update time from Internet</em> option on all your operating systems</li>
  <li>Boot into Windows, and open the registry editor. (<code class="language-plaintext highlighter-rouge">WinKey + R</code> followed by
<code class="language-plaintext highlighter-rouge">regedit</code> in the text box)</li>
  <li>Edit this key:
<code class="language-plaintext highlighter-rouge">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation</code></li>
  <li>Right-click in the right-side panel and select New &gt; DWORD Value. Create the 
 key named <code class="language-plaintext highlighter-rouge">RealTimeIsUniversal</code> and give it a value of 1.</li>
  <li>Now, restart your computer and boot into Ubuntu. We will set the Hardware
clock to UTC time.</li>
  <li>Open a terminal, <strong>you need root privileges on your machine</strong></li>
  <li>Let’s start with the basics. Run <code class="language-plaintext highlighter-rouge">sudo hwclock --show</code>, this should show you
the current time that’s stored in your hardware clock</li>
  <li>Set this to the current UTC which should be available to you through your
phone or the Internet. (Read further to see how to do this from a great GUI)
    <ol>
      <li><code class="language-plaintext highlighter-rouge">hwclock</code> supports the GREAT feature of copying over time from the system</li>
      <li>So, open the calendar / date-time GUI application and set the proper time
there.</li>
      <li>Make sure automatic updation of the time from the internet is turned off</li>
      <li>Once you have set the proper time for your timezone in the window, you can
run <code class="language-plaintext highlighter-rouge">sudo hwclock --systohc</code>. This will copy over the current system time
to the hardware clock.</li>
      <li>You should also probably run <code class="language-plaintext highlighter-rouge">sudo hwclock --utc</code> to make sure that the
hardware clock is kept in UTC</li>
    </ol>
  </li>
  <li>Open the file <code class="language-plaintext highlighter-rouge">/etc/default/rcS</code> and <code class="language-plaintext highlighter-rouge">UTC=yes</code> to that file</li>
  <li>You are SET now!</li>
</ol>

<p>This guide serves as an enhancement to the two pages that I have in my bookmarks
bar under the folder <em>Clock issues</em> (Yeah, right, that’s how big a problem this
was)</p>

<p><a href="https://mikebeach.org/2011/04/10/windows-linux-dual-boot-system-time-issues/">Windows-Linux Dual Boot System Issues on mikebeach.org</a></p>

<p><a href="http://www.thegeekstuff.com/2013/08/hwclock-examples/">Examples of using hwclock on thegeekstuff.com</a></p>

<p>That’s the end of my tutorial for the most part, a couple of quick points about
this setup.</p>

<p>The main problem here is that Linux interprets the Hardware clock to be set in
UTC whereas Windows assumes it to be in Local time by default, this creates the
initial inconsistency.</p>

<p>Automatica time updation from the internet probably changes the hardware clock
right after startup and right before shutdown instead of changing it once? I
don’t know anything about this, but I have a feeling that this also works
differently in both operating systems. Simply turning it off and adjusting for
the drift of the hardware clock every year or something as infrequent as that
will ensure that the setup is simple! (This also enables freely changing the
timezone on whichever operating system, that should not affect the hardware
clock at all)</p>

<p><strong>POST #43 is OVER</strong></p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/2024/08/31/wireguard-and-mtu-adventure">
          Adventures with Wireguard and MTU
          <small>31 Aug 2024</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/2024/08/29/using-iphone-without-windows-or-apple">
          Using an iPhone Without Windows or Apple Computers
          <small>29 Aug 2024</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/2024/06/12/book-review-delillo-white-noise">
          Notes and Review - White Noise (DeLillo)
          <small>12 Jun 2024</small>
        </a>
      </h3>
    </li>
    
  </ul>
</div>

<!-- Disqus Thread -->

<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'siddharthkannanblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <!-- <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> -->

    </div>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YE2VZMP9F1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YE2VZMP9F1');
</script>


  </body>
</html>
