<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <meta content="https://icyflame.github.io/dp.jpg" property="og:image">

  <meta content="Siddharth Kannan's Blog" property="og:site_name">

  
  <meta content="Day 23 - Indian Railways DOS based systems (?); A great trip to Calcutta" property="og:title">
  

  
  <meta content="article" property="og:type">
  

  
  <meta content="1094 words about 100daysofwriting" property="og:description">
  

  
  <meta content="https://blog.siddharthkannan.in/2017/03/12/day-23/" property="og:url">
  

  
  <meta content="2017-03-12T00:00:00+00:00" property="article:published_time">
  <meta content="https://blog.siddharthkannan.in/about/" property="article:author">
  

  
  
  <meta content="100daysofwriting" property="article:section">
  
  

  
  
  

  <title>
    
    Day 23 - Indian Railways DOS based systems (?); A great trip to Calcutta &middot; Siddharth Kannan's Blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/poole.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/syntax.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/hyde.css">
  <link rel="stylesheet" href="https://blog.siddharthkannan.in/public/css/custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.siddharthkannan.in/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://blog.siddharthkannan.in/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Google Adsense -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
	(adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-1148465602033451",
		enable_page_level_ads: true
	});
  </script>
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h2>
        <a href="https://blog.siddharthkannan.in/">
          Siddharth Kannan's Blog
        </a>
      </h2>
      <p class="lead">Programmer | Pianist <br/><a href="http://icyflame.github.io">@icyflame</a></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/">Home</a>

      

      
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/about/">About</a>
            <!-- about/ -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/list/">List of Posts</a>
            <!-- list/ -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/tag/">List of Posts by Tag</a>
            <!-- tag/ -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/series">List of Series</a>
            <!-- series -->
          
        
      
        
          
            <a class="sidebar-nav-item" href="https://blog.siddharthkannan.in/rss/">RSS</a>
            <!-- rss/ -->
          
        
      

      <span class="sidebar-nav-item">Powered by <a href="https://jekyllrb.com">Jekyll</a>
			  and <a href="https://github.com/poole/hyde">Hyde</a></span>
      <span class="sidebar-nav-item">Hosted on <a href="https://github.com">Github</a></span>
    </nav>

    <p>&copy; 2024. All rights reserved.</p>
  </div>
</div>


    <div class="content container-fluid">
      <div class="post">
  <h1 class="post-title">Day 23 - Indian Railways DOS based systems (?); A great trip to Calcutta</h1>
  <span class="post-date">12 Mar 2017</span>

  
  <span class="post-date">
  

  
  <a href="https://blog.siddharthkannan.in/tag/#100daysofwriting">
    100daysofwriting
  </a>
  
    &middot;
  
  
  <a href="https://blog.siddharthkannan.in/tag/#proposals">
    proposals
  </a>
  
    &middot;
  
  
  <a href="https://blog.siddharthkannan.in/tag/#railways">
    railways
  </a>
  
    &middot;
  
  
  <a href="https://blog.siddharthkannan.in/tag/#trip-diary">
    trip-diary
  </a>
  
  
</span>


  
  <p>Today was a trip to Kolkata for Biswa Mast Aadmi. It was a a GREAT SHOW! And it
was a wildly succesfuly trip also. Generally, my plans are foiled because of one
thing or the other, today everything worked well. There’s a first!</p>

<p>On my way to Howrah, I had the chance to look at the screen on which the people
behind the ticketing counters in the KGP Station find ticket availability
between different stations, at different dates and different ticket classes
(Sleeper, 3AC, 2AC, etc)</p>

<p>Ticketing is done on Text User Interfaces. Which apparently run using the <a href="https://en.wikipedia.org/wiki/VT220">VT220
Terminal</a>. I discovered this from <a href="https://www.quora.com/Why-doesnt-Indian-Railways-upgrade-its-PRS-reservation-software-infrastructure-from-MS-DOS-like-terminals-to-any-contemporary-platform">this
incredibly unhelpful answer on
Quora</a>.</p>

<p><img src="/public/img/day-23-1.png" alt="img" /></p>

<p>There are a few things to note here. The IRCTC apparently has a huge Database
which is geographically separated, etc etc. That’s the backend part, that
doesn’t matter for the present discussion.</p>

<p>The VT220 terminal itself was introduced in 1983. Yeah, 1983. That is about 8
years before <a href="http://web.archive.org/web/20100104211620/http://www.linux.org/people/linus_post.html">Linus Torvalds started working on
Linux</a>.
It’s also 34 years old now. Using a 34 year old frontend for ticketing? I can’t
see any real reason for that to be an intelligent choice. Isn’t it just better
to update atleast to a latest Linux version?</p>

<p>That aside, let’s look at how the DB is queried.</p>

<ol>
  <li>
    <p>Entering the date, origin
station and destination station, and the ticket class: leads to a table that has trains running on that
between the two stations and the availability for each of the trains.</p>
  </li>
  <li>
    <p>Almost immediately, if there are no tickets, or even if there are tickets,
people want to try higher classes. This requires a change in one of the
parameters.</p>
  </li>
  <li>
    <p>If higher classes are not available for that date, people who are willing to
be flexible (which is almost everyone) want to know the availability of the
earlier day, the next couple days, etc.</p>
  </li>
</ol>

<p>Achieving all of this in a crowded station, where noise levels are pretty high
already leads to people having to shout to make themselves heard. It leads to
chaos. There are 2 ways out of this:</p>

<ol>
  <li>
    <p>A kiosk at the station: People should ideally use the IRCTC website for
checking availability. Or use the IRCTC mobile application. If they can’t,
there should be GOOD kiosks (for some reason, all kiosks have very very bad
touch screens and response times that range between 10s of seconds to 100s of
seconds. Why not just use a keyboard and a mouse? Why this obsession with
touch screens?)</p>

    <p>Sidenote:
The IRCTC mobile
app is the WORST MOBILE APP that has ever been written. When you have clicked
on “Book Ticket” and gone through the payment and are waiting for your PNR,
the application starts showing you a non-cancelable Android notification. The
infinitely spinning ring. There’s no progress notification, you can know
nothing. When you are on something like LTE (which I was once on, That’s
where all this ranting is coming from), this takes forever. You can keep
waiting, and it will eventually show you a message that’s a rough equivalent
to “We couldn’t book the ticket. Money will be refunded in a few days. Try to
book your ticket again”. Now, there are plenty of mobile applications out
there with payment SDKs which are way way faster than whatever these people
are using. I am sure that any company would be happy to provide their
services to IRCTC atleast at a lower cost, not that cost would ever be a
prohibiting factor for the leading long-distance transport provider in a
country of 1.2 billion people. But seriously, GET YOUR ACT TOGETHER!</p>
  </li>
  <li>
    <p><strong>Text interfaces are incredibly powerful.</strong> The terminal is one of the biggest
examples of this. Skilled users can use text interfaces much faster than
anything that requires touching or clicking on buttons with a mouse. That
said, the data that comes back from the commands should also make sense. Take
<code class="language-plaintext highlighter-rouge">ls</code> for example. <code class="language-plaintext highlighter-rouge">ls</code> is great, <code class="language-plaintext highlighter-rouge">ls -ls</code> is better when you want to find out
the permissions of all the files, <code class="language-plaintext highlighter-rouge">ls -lsh</code> when you want to include hidden
files, <code class="language-plaintext highlighter-rouge">ls -lg</code> when you want to see the group that owns the files and
directories and so on. Basically, command line arguments. Would it be so hard
to design a system that parsed something like:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>GET KGP CST 26 +-1 032
<span class="c"># GET trains from KGP to CST for the 26th of the present month.</span>
<span class="c"># show availability for the next day and the previous day.</span>
<span class="c"># show availability for ticket classes 2nd Sleeper (0), 3AC (3) and 2AC (2)</span>

<span class="nv">$ </span>GET KGP CST 4n +3 32
<span class="c"># KGP to CST on the 4th of the next month. Show avail for the next three days</span>
<span class="c"># as well. Show only for 3AC and 2AC</span>
</code></pre></div>    </div>

    <p>Given enough time, writing a fast parser (preferably in C, coming from the
benchmarks discussion in yesterday’s post) for these kinds of commands will
not be hard.</p>
  </li>
</ol>

<p>There are some major caveats to this post. Not in the proposals that I have
made, I beleive they are fine, definitely not rock solid because I know very
little about ticketing except from whenever I have booked tickets.</p>

<ol>
  <li>
    <p>I don’t know if the TUI that they use is the VT220. That was from a Quora
answer dated December 2014. Things shouldn’t have changed in this short a
time.</p>
  </li>
  <li>
    <p>The backend that Indian Railways uses. It’s so hard to figure out what
exactly they are using. There’s the website of the <a href="http://cris.org.in/CRIS/Home/Home">Centre for Railway
Information Systems</a>, there is a dedicated
page to the <a href="http://cris.org.in/CRIS/Projects/PRS">Passenger Reservation
System</a> with a “Technology” page. It
doesn’t mention if this is a project that’s being developed for later
installment, or it’s already being used everywhere. It’s all a bit shady.</p>
  </li>
</ol>

<p>Finally, I have seen Indigo (the airlines) use a similar TUI interface. They use
it for the generation of boarding passes and baggage tags at the check-in
counter. The people working on them are highly skilled at using these terminals.
So, clearly TUI has some advantage, whether IRCTC is tapping into all of it or
not is questionable to me. I will continue to try to dig up data about this, but
I get the feeling that that is going to be tough.</p>

<p><strong>POST #23 is OVER</strong></p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/2024/08/31/wireguard-and-mtu-adventure/">
          Adventures with Wireguard and MTU
          <small>31 Aug 2024</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/2024/08/29/using-iphone-without-windows-or-apple/">
          Using an iPhone Without Windows or Apple Computers
          <small>29 Aug 2024</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="https://blog.siddharthkannan.in/2024/06/12/book-review-delillo-white-noise/">
          Notes and Review - White Noise (DeLillo)
          <small>12 Jun 2024</small>
        </a>
      </h3>
    </li>
    
  </ul>
</div>

<!-- Disqus Thread -->

<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'siddharthkannanblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <!-- <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> -->

    </div>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YE2VZMP9F1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YE2VZMP9F1');
</script>


  </body>
</html>
